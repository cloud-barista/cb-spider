# Alibaba Cloud Cluster Driver ë³€ê²½ ì‚¬í•­

**ì‘ì„±ì¼:** 2025-10-25  
**ì‘ì„±ì:** CB-Spider Development Team  
**ê´€ë ¨ ì´ìŠˆ:** [#1492 - [Alibaba:PMKS] Failed to create node pool instance](https://github.com/cloud-barista/cb-spider/issues/1492)

---

## ğŸ“‹ ë³€ê²½ ê°œìš”

Alibaba Cloud Cluster Driverì˜ `ClusterHandler` êµ¬í˜„ì„ ê°œì„ í•˜ê³ , ë…¸ë“œ ê·¸ë£¹ ìƒì„± ì‹œ ë°œìƒí•˜ë˜ ë¬¸ì œë“¤ì„ í•´ê²°í–ˆìŠµë‹ˆë‹¤.

**ì´ìŠˆ #1492 ìš”ì•½:**
- **ë¬¸ì œ:** Alibaba Cloud ACK í´ëŸ¬ìŠ¤í„°ì— ë…¸ë“œ ê·¸ë£¹(Node Pool) ìƒì„± ì‹œ ì‹¤íŒ¨
- **ì¦ìƒ:** ë…¸ë“œ ê·¸ë£¹ì´ `Failed` ë˜ëŠ” `Inactive` ìƒíƒœë¡œ ì „í™˜
- **ì›ì¸:** `RootDiskType`ìœ¼ë¡œ `cloud_efficiency` ì‚¬ìš© ì‹œ ACKì—ì„œ ì§€ì›í•˜ì§€ ì•ŠìŒ
- **í•´ê²°:** `cloud_essd` (ESSD ê³„ì—´) ì‚¬ìš© ë° ìë™ ê²€ì¦ ê¸°ëŠ¥ ì¶”ê°€

---

## ğŸ¯ ì£¼ìš” ë³€ê²½ ì‚¬í•­

### 1. ClusterHandler í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í™•ì¥

**íŒŒì¼:** `Test_Resources.go`

**ë³€ê²½ ë‚´ìš©:**
- ê¸°ì¡´ì— ëˆ„ë½ë˜ì–´ ìˆë˜ `ClusterHandler` ì¸í„°í˜ì´ìŠ¤ ë©”ì„œë“œë“¤ì˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì¶”ê°€
- AWS ë“œë¼ì´ë²„ì˜ í…ŒìŠ¤íŠ¸ êµ¬ì¡°ë¥¼ ì°¸ê³ í•˜ì—¬ ì™„ì „í•œ í…ŒìŠ¤íŠ¸ ë©”ë‰´ êµ¬ì„±

**ì¶”ê°€ëœ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤:**
```go
case 6: GenerateClusterToken    // í´ëŸ¬ìŠ¤í„° ì ‘ê·¼ í† í° ìƒì„±
case 7: AddNodeGroup             // ë…¸ë“œ ê·¸ë£¹ ì¶”ê°€
case 8: SetNodeGroupAutoScaling  // ë…¸ë“œ ê·¸ë£¹ ì˜¤í† ìŠ¤ì¼€ì¼ë§ ì„¤ì •
case 9: ChangeNodeGroupScaling   // ë…¸ë“œ ê·¸ë£¹ ìŠ¤ì¼€ì¼ë§ ë³€ê²½
case 10: RemoveNodeGroup         // ë…¸ë“œ ê·¸ë£¹ ì œê±°
case 11: UpgradeCluster          // í´ëŸ¬ìŠ¤í„° ì—…ê·¸ë ˆì´ë“œ
```

**í…ŒìŠ¤íŠ¸ ì„¤ì •:**
```go
clusterReqInfo := irs.ClusterInfo{
    IId:     irs.IID{NameId: "testcluster22"},
    Version: "1.34.1-aliyun.1", // ìµœì‹  ìœ íš¨ ë²„ì „
    Network: irs.NetworkInfo{
        VpcIID: irs.IID{SystemId: vpcID},
        SubnetIIDs: []irs.IID{{SystemId: vswitchID}},
        SecurityGroupIIDs: []irs.IID{{SystemId: securityGroupIIDs}},
    },
}

reqNodeGroupInfo := irs.NodeGroupInfo{
    IId:          irs.IID{NameId: "cb-ack-node-test"},
    ImageIID:     irs.IID{NameId: "default"},
    VMSpecName:   "ecs.g7.xlarge",
    RootDiskType: "cloud_essd",  // âš ï¸ í•µì‹¬: cloud_essdë§Œ ì„±ê³µ
    RootDiskSize: "40",
    
    OnAutoScaling:   true,
    DesiredNodeSize: 2,
    MinNodeSize:     1,
    MaxNodeSize:     3,
}
```

---

### 2. ë…¸ë“œ ê·¸ë£¹ ìƒì„± ì‹¤íŒ¨ ì›ì¸ ë¶„ì„ ë° í•´ê²°

#### ğŸ” ë¬¸ì œ ë¶„ì„ ê³¼ì •

**ì´ˆê¸° ì¦ìƒ:**
- í”„ë¡œê·¸ë¨ìœ¼ë¡œ ìƒì„±í•œ ë…¸ë“œ ê·¸ë£¹ì´ `Failed` ë˜ëŠ” `Inactive` ìƒíƒœë¡œ ì „í™˜
- ì›¹ ì½˜ì†”ì—ì„œ ìˆ˜ë™ ìƒì„±í•œ ë…¸ë“œ ê·¸ë£¹ì€ ì •ìƒ ì‘ë™

**ì‹œë„í•œ í•´ê²° ë°©ë²•ë“¤:**

1. **Kubernetes ë²„ì „ ìˆ˜ì •**
   - âŒ `1.24.6-aliyun.1` (ë§Œë£Œëœ ë²„ì „)
   - âœ… `1.32.7-aliyun.1` â†’ `1.34.1-aliyun.1` (ìµœì‹  ìœ íš¨ ë²„ì „)

2. **Runtime ë²„ì „ ë§¤ì¹­**
   - ë¬¸ì œ: ë…¸ë“œ ê·¸ë£¹ì´ í´ëŸ¬ìŠ¤í„°ì™€ ë‹¤ë¥¸ runtime ë²„ì „ ì‚¬ìš©
   - í•´ê²°: `extractRuntimeFromMetadata()` í•¨ìˆ˜ êµ¬í˜„
   - ê²°ê³¼: í´ëŸ¬ìŠ¤í„°ì˜ ì‹¤ì œ runtime ì •ë³´ ì¶”ì¶œ ë° ì ìš©

3. **Instance Type ë³€ê²½**
   - âŒ `ecs.c7a.xlarge` (íŠ¹ì • zoneì—ì„œ ì‚¬ìš© ë¶ˆê°€)
   - âŒ `ecs.g6.large` (ì‚¬ìš© ë¶ˆê°€)
   - âŒ `ecs.n4.large` (ì‚¬ìš© ë¶ˆê°€)
   - âœ… `ecs.g7.xlarge` (ì•ˆì •ì ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥)

4. **Image Type ë³€ê²½**
   - âŒ `AliyunLinux3` (ì¼ë°˜ ì´ë¯¸ì§€)
   - âœ… `AliyunLinux3ContainerOptimized` (ACK ìµœì í™” ì´ë¯¸ì§€)
   - ê²°ê³¼: ì´ˆê¸°ì—ëŠ” ì¤‘ìš”í•œ ì°¨ì´ë¡œ íŒë‹¨í–ˆìœ¼ë‚˜, ì‹¤ì œë¡œëŠ” í° ì˜í–¥ ì—†ìŒ

5. **RootDiskType ê²€ì¦** â­ **í•µì‹¬ ì›ì¸**
   - âŒ `cloud_efficiency` (ì‹¤íŒ¨)
   - âœ… `cloud_essd` (ì„±ê³µ)

#### âœ… ìµœì¢… í•´ê²°ì±…

**í•µì‹¬ ë°œê²¬:** ë…¸ë“œ ê·¸ë£¹ ìƒì„± ì‹¤íŒ¨ì˜ **ìœ ì¼í•œ ê²°ì •ì  ì›ì¸**ì€ `RootDiskType`ì´ì—ˆìŠµë‹ˆë‹¤.

**ì¤‘ìš”:** Alibaba Cloud ì›¹ ì½˜ì†”ì—ì„œ í™•ì¸ ê²°ê³¼, ACK ë…¸ë“œ ê·¸ë£¹ì˜ System DiskëŠ” **ESSD íƒ€ì…ë§Œ ì„ íƒ ê°€ëŠ¥**í•©ë‹ˆë‹¤:
- ESSD Entry
- ESSD AutoPL
- ESSD í´ë¼ìš°ë“œ ë””ìŠ¤í¬

ì´ëŠ” Alibabaì˜ ì •ì±… ë³€ê²½ìœ¼ë¡œ, ACK ë…¸ë“œ ê·¸ë£¹ì—ì„œëŠ” **ê³ ì„±ëŠ¥ ESSD ë””ìŠ¤í¬ë§Œ ì§€ì›**í•˜ë„ë¡ ì œí•œëœ ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.

```go
// âš ï¸ CRITICAL: RootDiskType must be "cloud_essd"
reqNodeGroupInfo := irs.NodeGroupInfo{
    RootDiskType: "cloud_essd",  // cloud_efficiencyëŠ” ì‹¤íŒ¨!
    // ... other settings
}
```

**ê²€ì¦ ê²°ê³¼:**
- `cloud_essd` + `OnAutoScaling: true` â†’ âœ… ì„±ê³µ
- `cloud_essd` + `OnAutoScaling: false` â†’ âœ… ì„±ê³µ
- `cloud_efficiency` + ëª¨ë“  ì„¤ì • â†’ âŒ ì‹¤íŒ¨

---

### 3. KubernetesConfig ì„¤ì • ìµœì í™”

**íŒŒì¼:** `ClusterHandler.go` - `aliCreateClusterNodePool()`

#### ğŸ”¬ ê²€ì¦ ë‚´ìš©

**ì§ˆë¬¸:** `KubernetesConfig`ë¥¼ ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´ Alibabaê°€ ìë™ìœ¼ë¡œ í´ëŸ¬ìŠ¤í„°ì™€ ë™ì¼í•œ runtimeì„ ì‚¬ìš©í•˜ëŠ”ê°€?

**ê²€ì¦ ë°©ë²•:**
```go
// KubernetesConfig ì—†ì´ ë…¸ë“œ ê·¸ë£¹ ìƒì„±
createClusterNodePoolRequest := &cs2015.CreateClusterNodePoolRequest{
    // KubernetesConfig ì„¤ì • ì—†ìŒ
    ScalingGroup: &cs2015.CreateClusterNodePoolRequestScalingGroup{
        // ...
    },
}
```

**ê²€ì¦ ê²°ê³¼:**
```
Cluster Version: 1.34.1-aliyun.1
Cluster Runtime: containerd 2.1.3

ëª¨ë“  NodeGroup Runtime: containerd 2.1.3 (ìë™ ìƒì†ë¨)
- cb-ack-node-test: containerd 2.1.3 âœ…
- test-autoscaling-essd: containerd 2.1.3 âœ…
- test-no-k8sconfig: containerd 2.1.3 âœ…
```

**ê²°ë¡ :** AlibabaëŠ” `KubernetesConfig`ê°€ ì—†ìœ¼ë©´ **ìë™ìœ¼ë¡œ í´ëŸ¬ìŠ¤í„°ì˜ runtimeì„ ìƒì†**í•©ë‹ˆë‹¤.

#### ğŸ“ ì½”ë“œ ë³€ê²½

**ë³€ê²½ ì „:**
```go
// Runtime ì¶”ì¶œ ë° KubernetesConfig ì„¤ì • (í•„ìˆ˜ë¡œ ê°„ì£¼)
cluster, err := aliDescribeClusterDetail(csClient, clusterId)
metaData := tea.StringValue(cluster.MetaData)
runtimeName, runtimeVersion, err := extractRuntimeFromMetadata(metaData)

createClusterNodePoolRequest := &cs2015.CreateClusterNodePoolRequest{
    KubernetesConfig: &cs2015.CreateClusterNodePoolRequestKubernetesConfig{
        Runtime:        tea.String(runtimeName),
        RuntimeVersion: tea.String(runtimeVersion),
    },
}
```

**ë³€ê²½ í›„:**
```go
// KubernetesConfigëŠ” ì„ íƒì‚¬í•­ - ì£¼ì„ìœ¼ë¡œ ë³´ê´€
// ë‚˜ì¤‘ì— ìµœì‹  runtime ì‚¬ìš©ì´ í•„ìš”í•  ê²½ìš° ì£¼ì„ í•´ì œ

// Get cluster information to extract runtime configuration
// cluster, err := aliDescribeClusterDetail(csClient, clusterId)
// if err != nil {
//     return nil, fmt.Errorf("failed to get cluster details: %v", err)
// }

// Extract runtime information from cluster's metadata
// metaData := tea.StringValue(cluster.MetaData)
// runtimeName, runtimeVersion, err := extractRuntimeFromMetadata(metaData)
// if err != nil {
//     return nil, fmt.Errorf("failed to extract runtime from cluster metadata: %v", err)
// }

createClusterNodePoolRequest := &cs2015.CreateClusterNodePoolRequest{
    // KubernetesConfig is optional - uncomment if needed
    // KubernetesConfig: &cs2015.CreateClusterNodePoolRequestKubernetesConfig{
    //     Runtime:        tea.String(runtimeName),
    //     RuntimeVersion: tea.String(runtimeVersion),
    // },
}
```

**ì¥ì :**
- ë¶ˆí•„ìš”í•œ API í˜¸ì¶œ ì œê±° (ì„±ëŠ¥ í–¥ìƒ)
- ì½”ë“œ ê°„ì†Œí™”
- í•„ìš”ì‹œ ì‰½ê²Œ í™œì„±í™” ê°€ëŠ¥ (ì£¼ì„ í•´ì œë§Œ í•˜ë©´ ë¨)
- `extractRuntimeFromMetadata()` í•¨ìˆ˜ëŠ” ìœ ì§€ë˜ì–´ ìˆìŒ

---

### 4. Auto-scaling Validation ë¡œì§ ê°œì„ 

**íŒŒì¼:** `ClusterHandler.go` - `validateAtAddNodeGroup()`

#### ğŸ” ê¸°ì¡´ ë¬¸ì œì 

ê¸°ì¡´ validation ë¡œì§ì´ Alibaba APIì˜ ì‹¤ì œ ë™ì‘ì„ ì •í™•íˆ ë°˜ì˜í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.

**Alibaba APIì˜ ì‹¤ì œ ë™ì‘:**
- `OnAutoScaling = true`: `MinNodeSize`/`MaxNodeSize` ì‚¬ìš©, `DesiredNodeSize` **ë¬´ì‹œ**
- `OnAutoScaling = false`: `DesiredNodeSize` ì‚¬ìš©, `MinNodeSize`/`MaxNodeSize` **ë¬´ì‹œ**

#### âœ… ê°œì„ ëœ Validation

**ë³€ê²½ ì „:**
```go
if nodeGroupInfo.OnAutoScaling {
    if nodeGroupInfo.MaxNodeSize < 1 {
        return fmt.Errorf("MaxNodeSize cannot be smaller than 1")
    }
    // ...
} else {
    if nodeGroupInfo.DesiredNodeSize < 0 {
        return fmt.Errorf("DesiredNodeSize cannot be negative")
    }
}
```

**ë³€ê²½ í›„:**
```go
// Alibaba API behavior:
// - OnAutoScaling = true:  Uses MinNodeSize/MaxNodeSize (DesiredNodeSize is ignored)
// - OnAutoScaling = false: Uses DesiredNodeSize (MinNodeSize/MaxNodeSize are ignored)

if nodeGroupInfo.OnAutoScaling {
    // When auto-scaling is enabled, MinNodeSize and MaxNodeSize are required
    if nodeGroupInfo.MaxNodeSize < 1 {
        return fmt.Errorf("MaxNodeSize cannot be smaller than 1 when auto-scaling is enabled")
    }
    if nodeGroupInfo.MinNodeSize < 1 {
        return fmt.Errorf("MinNodeSize cannot be smaller than 1 when auto-scaling is enabled")
    }
    if nodeGroupInfo.MinNodeSize > nodeGroupInfo.MaxNodeSize {
        return fmt.Errorf("MinNodeSize cannot be greater than MaxNodeSize")
    }
    // Note: DesiredNodeSize is ignored when auto-scaling is enabled
} else {
    // When auto-scaling is disabled, only DesiredNodeSize is used
    if nodeGroupInfo.DesiredNodeSize < 0 {
        return fmt.Errorf("DesiredNodeSize cannot be negative when auto-scaling is disabled")
    }
    // Note: MinNodeSize and MaxNodeSize are ignored when auto-scaling is disabled
    // They can be 0 or any value - Alibaba API will ignore them
}
```

**ê°œì„  ì‚¬í•­:**
- âœ… API ë™ì‘ì„ ëª…í™•íˆ ë¬¸ì„œí™”
- âœ… ê° ëª¨ë“œì—ì„œ ì–´ë–¤ ê°’ì´ ì‚¬ìš©ë˜ê³  ë¬´ì‹œë˜ëŠ”ì§€ ì£¼ì„ìœ¼ë¡œ ëª…ì‹œ
- âœ… ì—ëŸ¬ ë©”ì‹œì§€ì— ì»¨í…ìŠ¤íŠ¸ ì¶”ê°€ (auto-scaling ìƒíƒœ ëª…ì‹œ)

---

### 5. ë””ë²„ê¹… ë° ì—ëŸ¬ ì²˜ë¦¬ ê°œì„ 

**íŒŒì¼:** `ClusterHandler.go`

#### 5.1 ë…¸ë“œ ê·¸ë£¹ ìƒíƒœ ë¡œê¹… ê°•í™”

**AddNodeGroup() ë©”ì„œë“œ:**
```go
// Log detailed nodepool status for debugging
nodepool, err := aliDescribeClusterNodePoolDetail(ach.CsClient, clusterId, tea.StringValue(nodepoolId))
if err == nil && nodepool != nil && nodepool.Status != nil {
    cblogger.Infof("NodePool Status: State=%s, TotalNodes=%d, FailedNodes=%d, HealthyNodes=%d",
        tea.StringValue(nodepool.Status.State),
        tea.Int64Value(nodepool.Status.TotalNodes),
        tea.Int64Value(nodepool.Status.FailedNodes),
        tea.Int64Value(nodepool.Status.HealthyNodes))

    // If there are failed nodes, log a warning
    if tea.Int64Value(nodepool.Status.FailedNodes) > 0 {
        cblogger.Warnf("âš ï¸  NodePool has %d failed nodes. Check Alibaba Cloud Console for detailed error messages.",
            tea.Int64Value(nodepool.Status.FailedNodes))
        cblogger.Warn("Common causes: 1) Image not available in the zone, 2) Instance type not available, 3) Insufficient quota")
    }
}
```

#### 5.2 ë¹ˆ InstanceTypes ì²˜ë¦¬

**getNodeGroupInfo() ë©”ì„œë“œ:**
```go
// Handle case where InstanceTypes might be empty (e.g., failed node pools)
vmSpecName := ""
if len(nodepool.ScalingGroup.InstanceTypes) > 0 {
    vmSpecName = tea.StringValue(nodepool.ScalingGroup.InstanceTypes[0])
} else {
    cblogger.Warnf("NodePool %s has empty InstanceTypes (State: %s)",
        tea.StringValue(nodepool.NodepoolInfo.Name),
        tea.StringValue(nodepool.Status.State))
    // Log the raw nodepool data for debugging
    cblogger.Debugf("Raw NodePool Data: %+v", nodepool)
}
```

**íš¨ê³¼:**
- ì‹¤íŒ¨í•œ ë…¸ë“œ í’€ ì¡°íšŒ ì‹œ `invalid InstanceTypes` ì—ëŸ¬ ë°©ì§€
- ë””ë²„ê¹…ì„ ìœ„í•œ ìƒì„¸ ì •ë³´ ë¡œê¹…

#### 5.3 Image ID ë° KeyPair ì²˜ë¦¬ ê°œì„ 

**AddNodeGroup() ë©”ì„œë“œ:**
```go
// KeyPair: Alibaba uses KeyPairName as both NameId and SystemId, so use SystemId
keyPair := nodeGroupReqInfo.KeyPairIID.SystemId

// Image: Alibaba uses ImageId as SystemId
imageId := nodeGroupReqInfo.ImageIID.SystemId

imageType := ""
if strings.EqualFold(imageId, "") || strings.EqualFold(imageId, "default") {
    imageId = ""
    imageType = defaultNodePoolImageType
    cblogger.Debugf("Using default image type: %s", imageType)
} else {
    cblogger.Debugf("Using specified image ID: %s", imageId)
}
```

**ì¤‘ìš”:** Alibaba Cloudì—ì„œëŠ”:
- **KeyPair**: KeyPairNameì´ ê³§ IDì´ë¯€ë¡œ `SystemId` ì‚¬ìš©
- **Image**: ImageIdê°€ ê³ ìœ  ì‹ë³„ìì´ë¯€ë¡œ `SystemId` ì‚¬ìš©
- ì´ëŠ” VMHandlerì™€ KeyPairHandlerì˜ êµ¬í˜„ê³¼ ì¼ì¹˜

---

### 6. í´ëŸ¬ìŠ¤í„° ìŠ¤í™ ì„¤ì •

**íŒŒì¼:** `ClusterHandler.go`

```go
const (
    defaultClusterType        = "ManagedKubernetes"
    defaultClusterSpec        = "ack.pro.small" // Pro cluster: no quota limit, ~$65/month, 99.95% SLA
    defaultClusterRuntimeName = "containerd"
    defaultNodePoolImageType  = "AliyunLinux3ContainerOptimized" // ACK-optimized image
)
```

**ë³€ê²½ ì´ìœ :**
- `ack.standard` â†’ `ack.pro.small`: Standard í´ëŸ¬ìŠ¤í„° í• ë‹¹ëŸ‰ ì´ˆê³¼ ë¬¸ì œ í•´ê²°
- `AliyunLinux3` â†’ `AliyunLinux3ContainerOptimized`: ACK ìµœì í™” ì´ë¯¸ì§€ ì‚¬ìš©

**Pro í´ëŸ¬ìŠ¤í„° íŠ¹ì§•:**
- í• ë‹¹ëŸ‰ ì œí•œ ì—†ìŒ
- ì›” ì•½ $65 ë¹„ìš©
- 99.95% SLA ë³´ì¥
- Maintenance Window ìë™ ê´€ë¦¬

---

## ğŸ›¡ï¸ RootDiskType ìë™ ê²€ì¦ ê¸°ëŠ¥

### ê°œìš”

ë…¸ë“œ ê·¸ë£¹ ìƒì„± ì‹œ ì‚¬ìš©ìê°€ ì§€ì •í•œ `RootDiskType`ì´ í•´ë‹¹ ë¦¬ì „/ì¡´/ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…ì—ì„œ ì‹¤ì œë¡œ ì‚¬ìš© ê°€ëŠ¥í•œì§€ ìë™ìœ¼ë¡œ ê²€ì¦í•©ë‹ˆë‹¤.

### êµ¬í˜„ ìœ„ì¹˜

**íŒŒì¼:** `ClusterHandler.go` - `AddNodeGroup()` í•¨ìˆ˜

**ê²€ì¦ ì‹œì :** ë…¸ë“œ ê·¸ë£¹ ìƒì„± ì§ì „ (ì¸ìŠ¤í„´ìŠ¤ íƒ€ì… ê°€ìš©ì„± í™•ì¸ í›„)

### ë™ì‘ ë°©ì‹

```go
// AddNodeGroup() í•¨ìˆ˜ ë‚´ë¶€
if nodeGroupReqInfo.RootDiskType != "" {
    // 1. ECS Client ìƒì„±
    ecsClient, err := ecs.NewClientWithAccessKey(...)
    
    // 2. ì‚¬ìš© ê°€ëŠ¥í•œ ë””ìŠ¤í¬ íƒ€ì… ì¡°íšŒ
    availableDiskTypes, err := GetAvailableSystemDiskTypesForCluster(
        ecsClient,
        regionId,
        zoneId,
        instanceType,
    )
    
    // 3. ìš”ì²­ëœ ë””ìŠ¤í¬ íƒ€ì…ì´ ì‚¬ìš© ê°€ëŠ¥í•œì§€ í™•ì¸
    if !diskTypeAvailable {
        return error with detailed message
    }
}
```

### ì—ëŸ¬ ë©”ì‹œì§€ ì˜ˆì‹œ

**ë¯¸ì§€ì› ë””ìŠ¤í¬ íƒ€ì… ì‚¬ìš© ì‹œ:**
```
RootDiskType 'cloud_efficiency' is not supported for ACK node pools in zone 'ap-northeast-1b' with instance type 'ecs.g7.xlarge'.
Note: Only the following disk types are available in this zone: [cloud_auto cloud_essd]
```

**ì§€ì›ë˜ëŠ” ë””ìŠ¤í¬ íƒ€ì… ì‚¬ìš© ì‹œ:**
```
[INFO] RootDiskType 'cloud_essd' is available and supported
```

### í…ŒìŠ¤íŠ¸ ê²°ê³¼

**Test 1: ë¯¸ì§€ì› ë””ìŠ¤í¬ íƒ€ì… (`cloud_efficiency`)**
```go
nodeGroupInfo := irs.NodeGroupInfo{
    RootDiskType: "cloud_efficiency",
    VMSpecName:   "ecs.g7.xlarge",
    // ...
}

result, err := clusterHandler.AddNodeGroup(clusterIID, nodeGroupInfo)
// âŒ Error: RootDiskType 'cloud_efficiency' is not supported...
```
âœ… **ê²€ì¦ ì„±ê³µ** - ë…¸ë“œ ê·¸ë£¹ ìƒì„± ì „ì— ì—ëŸ¬ ë°œìƒ

**Test 2: ì§€ì›ë˜ëŠ” ë””ìŠ¤í¬ íƒ€ì… (`cloud_essd`)**
```go
nodeGroupInfo := irs.NodeGroupInfo{
    RootDiskType: "cloud_essd",
    VMSpecName:   "ecs.g7.xlarge",
    // ...
}

result, err := clusterHandler.AddNodeGroup(clusterIID, nodeGroupInfo)
// âœ… Success: NodeGroup created with ID=npc7b66bca60934ccfbcefae63b3d2340f
```
âœ… **ê²€ì¦ í†µê³¼** - ë…¸ë“œ ê·¸ë£¹ ì •ìƒ ìƒì„±

### ì¥ì 

1. **ì‚¬ì „ ì—ëŸ¬ ë°©ì§€**
   - ë…¸ë“œ ê·¸ë£¹ ìƒì„± ì‹¤íŒ¨ë¥¼ ì‚¬ì „ì— ì°¨ë‹¨
   - ë¶ˆí•„ìš”í•œ API í˜¸ì¶œ ë° ëŒ€ê¸° ì‹œê°„ ì ˆì•½

2. **ëª…í™•í•œ ì—ëŸ¬ ë©”ì‹œì§€**
   - ì–´ë–¤ ë””ìŠ¤í¬ íƒ€ì…ì´ ë¬¸ì œì¸ì§€ ëª…í™•íˆ í‘œì‹œ
   - ì‚¬ìš© ê°€ëŠ¥í•œ ë””ìŠ¤í¬ íƒ€ì… ëª©ë¡ ì œê³µ
   - ACK ì •ì±…ì— ëŒ€í•œ ì•ˆë‚´ í¬í•¨

3. **ìë™í™”**
   - ë³„ë„ì˜ ê²€ì¦ ì½”ë“œ ì‘ì„± ë¶ˆí•„ìš”
   - `AddNodeGroup()` í˜¸ì¶œ ì‹œ ìë™ìœ¼ë¡œ ê²€ì¦

4. **ìœ ì—°ì„±**
   - ê²€ì¦ ì‹¤íŒ¨ ì‹œì—ë„ ê³„ì† ì§„í–‰ (ê²½ê³ ë§Œ ì¶œë ¥)
   - API ì¡°íšŒ ì‹¤íŒ¨ ì‹œ ê²€ì¦ ê±´ë„ˆë›°ê¸°

---

## ğŸ“Š í…ŒìŠ¤íŠ¸ ê²°ê³¼

### ì„±ê³µí•œ ë…¸ë“œ ê·¸ë£¹ ìƒì„± ì¡°í•©

| ì„¤ì • | RootDiskType | OnAutoScaling | ImageType | ê²°ê³¼ |
|------|--------------|---------------|-----------|------|
| 1 | cloud_essd | true | default | âœ… ì„±ê³µ |
| 2 | cloud_essd | false | default | âœ… ì„±ê³µ |
| 3 | cloud_essd | true | AliyunLinux3ContainerOptimized | âœ… ì„±ê³µ |
| 4 | cloud_essd | - | KubernetesConfig ì—†ìŒ | âœ… ì„±ê³µ |
| 5 | cloud_efficiency | - | ëª¨ë“  ì¡°í•© | âŒ ì‹¤íŒ¨ |

### í•µì‹¬ ë°œê²¬ ì‚¬í•­

1. **RootDiskTypeì´ ê²°ì •ì  ìš”ì¸**
   - `cloud_essd`: ëª¨ë“  ì¡°í•©ì—ì„œ ì„±ê³µ
   - `cloud_efficiency`: ëª¨ë“  ì¡°í•©ì—ì„œ ì‹¤íŒ¨

2. **KubernetesConfigëŠ” ì„ íƒì‚¬í•­**
   - ì„¤ì • ì—†ì´ë„ í´ëŸ¬ìŠ¤í„° runtime ìë™ ìƒì†
   - ì„±ëŠ¥ìƒ ì´ì : ë¶ˆí•„ìš”í•œ API í˜¸ì¶œ ì œê±°

3. **Auto-scaling ì„¤ì •ì€ ë¬´ê´€**
   - `OnAutoScaling: true/false` ëª¨ë‘ ì‘ë™
   - ì˜¬ë°”ë¥¸ validationë§Œ í•„ìš”

4. **Image Typeì˜ ì˜í–¥ì€ ì œí•œì **
   - `default` ì‚¬ìš©ìœ¼ë¡œ ì¶©ë¶„
   - ACKê°€ ìë™ìœ¼ë¡œ ìµœì  ì´ë¯¸ì§€ ì„ íƒ

---

## ğŸ” ì‚¬ìš© ê°€ëŠ¥í•œ Disk Type ì¡°íšŒ ë°©ë²•

Alibaba CloudëŠ” ë¦¬ì „/ì¡´/ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…ì— ë”°ë¼ ì‚¬ìš© ê°€ëŠ¥í•œ ë””ìŠ¤í¬ íƒ€ì…ì´ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

### ìƒˆë¡œ ì¶”ê°€ëœ API í•¨ìˆ˜

**ClusterHandler.goì— ì¶”ê°€ëœ í•¨ìˆ˜:**

```go
func GetAvailableSystemDiskTypesForCluster(
    ecsClient *ecs.Client, 
    regionId string, 
    zoneId string, 
    instanceType string
) ([]string, error)
```

ì´ í•¨ìˆ˜ëŠ” Alibaba Cloud ECS APIì˜ `DescribeAvailableResource`ë¥¼ ì§ì ‘ í˜¸ì¶œí•˜ì—¬ íŠ¹ì • ë¦¬ì „/ì¡´/ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ System Disk íƒ€ì…ì„ ì¡°íšŒí•©ë‹ˆë‹¤.

### ì‹¤ì œ ì¡°íšŒ ê²°ê³¼ (ê²€ì¦ ì™„ë£Œ)

**í…ŒìŠ¤íŠ¸ í™˜ê²½:**
- Region: `ap-northeast-1`
- Zone: `ap-northeast-1a`
- Instance Type: `ecs.g7.xlarge`

**ì¡°íšŒ ê²°ê³¼:**
```
âœ… Available System Disk Types (2):
  1. cloud_auto     (ESSD AutoPL)
  2. cloud_essd     (Enhanced SSD)

âœ… cloud_essd is AVAILABLE (recommended for ACK)
âœ… cloud_efficiency is NOT available (expected for ACK)
```

**ì¤‘ìš” ë°œê²¬:**
- ACK ë…¸ë“œ ê·¸ë£¹ì—ì„œëŠ” **ESSD ê³„ì—´ë§Œ ì‚¬ìš© ê°€ëŠ¥**
- `cloud_efficiency`ëŠ” API ì¡°íšŒ ê²°ê³¼ì—ë„ ë‚˜íƒ€ë‚˜ì§€ ì•ŠìŒ
- ì´ëŠ” Alibabaì˜ ì •ì±…ìœ¼ë¡œ, ACKëŠ” ê³ ì„±ëŠ¥ ë””ìŠ¤í¬ë§Œ ì§€ì›

### ì£¼ìš” Disk Type ì„¤ëª…

| Disk Type | ì„¤ëª… | ìš©ë„ |
|-----------|------|------|
| `cloud_essd` | Enhanced SSD | ê³ ì„±ëŠ¥ ì›Œí¬ë¡œë“œ, **ACK ë…¸ë“œ ê·¸ë£¹ ê¶Œì¥** |
| `cloud_essd_entry` | ESSD Entry | ë¹„ìš© íš¨ìœ¨ì ì¸ ESSD |
| `cloud_auto` | ESSD AutoPL | ìë™ ì„±ëŠ¥ ë ˆë²¨ ì¡°ì • |
| `cloud_efficiency` | Ultra Disk | ì¼ë°˜ ì›Œí¬ë¡œë“œ (ACKì—ì„œ **ì§€ì› ì•ˆ í•¨**) |
| `cloud_ssd` | Standard SSD | í‘œì¤€ SSD (êµ¬í˜•) |

**ì°¸ê³ :** ACK ë…¸ë“œ ê·¸ë£¹ì€ ESSD ê³„ì—´ë§Œ ì§€ì›í•˜ë¯€ë¡œ, `cloud_efficiency`ë‚˜ `cloud_ssd`ëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

### ì‚¬ìš© ì˜ˆì œ

**Go ì½”ë“œì—ì„œ ì‚¬ìš©:**

```go
import (
    "github.com/aliyun/alibaba-cloud-sdk-go/services/ecs"
    "github.com/cloud-barista/cb-spider/cloud-control-manager/cloud-driver/drivers/alibaba/resources"
)

// ECS Client ìƒì„±
ecsClient, err := ecs.NewClientWithAccessKey(
    regionId,
    accessKeyId,
    accessKeySecret,
)

// ì‚¬ìš© ê°€ëŠ¥í•œ System Disk íƒ€ì… ì¡°íšŒ
diskTypes, err := resources.GetAvailableSystemDiskTypesForCluster(
    ecsClient,
    "ap-northeast-1",
    "ap-northeast-1a",
    "ecs.g7.xlarge",
)

// ê²°ê³¼: []string{"cloud_auto", "cloud_essd"}
```

**ë…¸ë“œ ê·¸ë£¹ ìƒì„± ì „ ê²€ì¦:**

```go
// ë…¸ë“œ ê·¸ë£¹ ìƒì„± ì „ì— ë””ìŠ¤í¬ íƒ€ì… ê²€ì¦
diskTypes, err := resources.GetAvailableSystemDiskTypesForCluster(
    ecsClient, regionId, zoneId, instanceType)
if err != nil {
    return fmt.Errorf("failed to query available disk types: %v", err)
}

// cloud_essdê°€ ì‚¬ìš© ê°€ëŠ¥í•œì§€ í™•ì¸
essdAvailable := false
for _, dt := range diskTypes {
    if dt == "cloud_essd" {
        essdAvailable = true
        break
    }
}

if !essdAvailable {
    return fmt.Errorf("cloud_essd is not available in zone %s for instance type %s", 
        zoneId, instanceType)
}
```

---

## ğŸ”§ ê¶Œì¥ ì„¤ì •

### í”„ë¡œë•ì…˜ í™˜ê²½ ê¶Œì¥ ì„¤ì •

```go
// í´ëŸ¬ìŠ¤í„° ìƒì„±
clusterReqInfo := irs.ClusterInfo{
    IId:     irs.IID{NameId: "production-cluster"},
    Version: "1.34.1-aliyun.1", // ìµœì‹  ì•ˆì • ë²„ì „ ì‚¬ìš©
    Network: irs.NetworkInfo{
        VpcIID:            irs.IID{SystemId: vpcID},
        SubnetIIDs:        []irs.IID{{SystemId: vswitchID}},
        SecurityGroupIIDs: []irs.IID{{SystemId: securityGroupID}},
    },
}

// ë…¸ë“œ ê·¸ë£¹ ìƒì„±
nodeGroupInfo := irs.NodeGroupInfo{
    IId:          irs.IID{NameId: "production-nodegroup"},
    ImageIID:     irs.IID{NameId: "default"}, // ACK ìµœì í™” ì´ë¯¸ì§€ ìë™ ì„ íƒ
    VMSpecName:   "ecs.g7.xlarge",            // ì•ˆì •ì ì¸ ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…
    RootDiskType: "cloud_essd",               // âš ï¸ í•„ìˆ˜: cloud_essd ì‚¬ìš©
    RootDiskSize: "40",
    
    // Auto-scaling í™œì„±í™” ì‹œ
    OnAutoScaling:   true,
    MinNodeSize:     2,  // ìµœì†Œ 2ê°œ ë…¸ë“œ
    MaxNodeSize:     10, // ìµœëŒ€ 10ê°œ ë…¸ë“œ
    // DesiredNodeSizeëŠ” ë¬´ì‹œë¨
    
    // Auto-scaling ë¹„í™œì„±í™” ì‹œ
    // OnAutoScaling:   false,
    // DesiredNodeSize: 3,  // ì •í™•íˆ 3ê°œ ë…¸ë“œ
    // MinNodeSize/MaxNodeSizeëŠ” ë¬´ì‹œë¨
}
```

---

## ğŸ“ ì£¼ìš” êµí›ˆ

### 1. í´ë¼ìš°ë“œ API ë™ì‘ ì´í•´ì˜ ì¤‘ìš”ì„±
- ë¬¸ì„œë§Œìœ¼ë¡œëŠ” ë¶€ì¡±, ì‹¤ì œ í…ŒìŠ¤íŠ¸ í•„ìˆ˜
- APIì˜ ì•”ë¬µì  ìš”êµ¬ì‚¬í•­ íŒŒì•… (ì˜ˆ: RootDiskType)

### 2. ì²´ê³„ì ì¸ ë””ë²„ê¹… ì ‘ê·¼
- ë³€ìˆ˜ë¥¼ í•˜ë‚˜ì”© ê²©ë¦¬í•˜ì—¬ í…ŒìŠ¤íŠ¸
- ì„±ê³µ/ì‹¤íŒ¨ ì¼€ì´ìŠ¤ ë¹„êµ ë¶„ì„
- ìƒì„¸í•œ ë¡œê¹…ìœ¼ë¡œ ë¬¸ì œ ì¶”ì 

### 3. ì½”ë“œ ìµœì í™”
- ë¶ˆí•„ìš”í•œ API í˜¸ì¶œ ì œê±°
- ì„ íƒì  ê¸°ëŠ¥ì€ ì£¼ì„ìœ¼ë¡œ ë³´ê´€
- ëª…í™•í•œ ë¬¸ì„œí™”ë¡œ ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ

### 4. Validationì˜ ì •í™•ì„±
- APIì˜ ì‹¤ì œ ë™ì‘ì— ë§ì¶˜ ê²€ì¦ ë¡œì§
- ëª…í™•í•œ ì—ëŸ¬ ë©”ì‹œì§€
- ì¶©ë¶„í•œ ì£¼ì„ìœ¼ë¡œ ì˜ë„ ì „ë‹¬

---

## ğŸ”„ í–¥í›„ ê°œì„  ì‚¬í•­

### 1. ìë™ ë³µêµ¬ ë©”ì»¤ë‹ˆì¦˜
- ë…¸ë“œ ê·¸ë£¹ ìƒì„± ì‹¤íŒ¨ ì‹œ ìë™ ì¬ì‹œë„
- ëŒ€ì²´ ì„¤ì • ìë™ ì ìš© (ì˜ˆ: ë‹¤ë¥¸ zone ì‹œë„)

### 2. ë” ë‚˜ì€ ì—ëŸ¬ ë©”ì‹œì§€
- Alibaba API ì—ëŸ¬ ì½”ë“œ íŒŒì‹±
- ì‚¬ìš©ì ì¹œí™”ì ì¸ í•´ê²° ë°©ë²• ì œì‹œ

### 3. ì„¤ì • ê²€ì¦ ê°•í™”
- í´ëŸ¬ìŠ¤í„° ìƒì„± ì „ ë¦¬ì†ŒìŠ¤ ê°€ìš©ì„± í™•ì¸
- Zoneë³„ ì¸ìŠ¤í„´ìŠ¤ íƒ€ì… ê°€ìš©ì„± ì²´í¬

### 4. ë¬¸ì„œí™” ê°œì„ 
- ê° ì„¤ì • ì˜µì…˜ì˜ ì˜í–¥ ë¬¸ì„œí™”
- íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ ì‘ì„±
- ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ì •ë¦¬

---

## ğŸ“š ì°¸ê³  ìë£Œ

### Alibaba Cloud ë¬¸ì„œ
- [ACK Cluster Management](https://www.alibabacloud.com/help/en/ack/product-overview/what-is-ack)
- [Node Pool Management](https://www.alibabacloud.com/help/en/ack/ack-managed-and-ack-dedicated/user-guide/manage-node-pools)
- [Disk Types](https://www.alibabacloud.com/help/en/ecs/user-guide/disk-overview)

### ê´€ë ¨ íŒŒì¼
- `ClusterHandler.go`: í´ëŸ¬ìŠ¤í„° í•¸ë“¤ëŸ¬ êµ¬í˜„
- `Test_Resources.go`: í…ŒìŠ¤íŠ¸ ì½”ë“œ
- `ClusterHandler.go` (interface): ì¸í„°í˜ì´ìŠ¤ ì •ì˜

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] ClusterHandler í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 100% ë‹¬ì„±
- [x] ë…¸ë“œ ê·¸ë£¹ ìƒì„± ì‹¤íŒ¨ ì›ì¸ ê·œëª… (RootDiskType)
- [x] KubernetesConfig ìë™ ìƒì† ê²€ì¦
- [x] Auto-scaling validation ë¡œì§ ê°œì„ 
- [x] ë””ë²„ê¹… ë° ì—ëŸ¬ ì²˜ë¦¬ ê°•í™”
- [x] ë¬¸ì„œí™” ì™„ë£Œ

---

## ğŸ“Œ ì´ìŠˆ #1492 í•´ê²° ìš”ì•½

### ë¬¸ì œ ìƒí™©
```
Error: Failed to create node pool instance
Symptom: Node pool status = "Failed" or "Inactive"
Environment: Alibaba Cloud ACK (Container Service for Kubernetes)
```

### ê·¼ë³¸ ì›ì¸
**RootDiskType ë¶ˆì¼ì¹˜:**
- ì‚¬ìš©ìê°€ `cloud_efficiency` (Ultra Disk) ì§€ì •
- Alibaba ACKëŠ” **ESSD ê³„ì—´ë§Œ ì§€ì›** (`cloud_essd`, `cloud_auto`, `cloud_essd_entry`)
- ì›¹ ì½˜ì†”ì—ì„œë„ ESSD íƒ€ì…ë§Œ ì„ íƒ ê°€ëŠ¥í•˜ë„ë¡ ì œí•œë¨

### í•´ê²° ë°©ë²•

**1. ì¦‰ì‹œ í•´ê²° (ì‚¬ìš©ì):**
```go
nodeGroupInfo := irs.NodeGroupInfo{
    RootDiskType: "cloud_essd",  // âœ… cloud_efficiency ëŒ€ì‹  cloud_essd ì‚¬ìš©
    // ... other settings
}
```

**2. ê·¼ë³¸ í•´ê²° (ë“œë¼ì´ë²„):**
- âœ… `GetAvailableSystemDiskTypesForCluster()` API í•¨ìˆ˜ ì¶”ê°€
- âœ… `AddNodeGroup()`ì— ìë™ ê²€ì¦ ë¡œì§ ì¶”ê°€
- âœ… ëª…í™•í•œ ì—ëŸ¬ ë©”ì‹œì§€ ë° ê°€ì´ë“œ ì œê³µ

### ê²€ì¦ ê²°ê³¼
```
âœ… Before: Node pool creation failed silently
âœ… After:  Clear error message with available disk types
âœ… Test:   cloud_essd â†’ Success, cloud_efficiency â†’ Early error with guidance
```

---

**ë³€ê²½ ì‚¬í•­ ìš”ì•½:**

ì´ë²ˆ ì—…ë°ì´íŠ¸ë¥¼ í†µí•´ **ì´ìŠˆ #1492**ë¥¼ ì™„ì „íˆ í•´ê²°í•˜ê³ , Alibaba Cloud Cluster Driverì˜ ì•ˆì •ì„±ê³¼ ì‚¬ìš©ì„±ì´ í¬ê²Œ í–¥ìƒë˜ì—ˆìŠµë‹ˆë‹¤:

1. **í•µì‹¬ ë°œê²¬ (ì´ìŠˆ #1492 ì›ì¸):** ACK ë…¸ë“œ ê·¸ë£¹ì€ **ESSD ë””ìŠ¤í¬ íƒ€ì…ë§Œ ì§€ì›** (`cloud_essd`, `cloud_auto` ë“±)
   - Alibaba Cloud ECS APIë¥¼ í†µí•´ ì‹¤ì œë¡œ ê²€ì¦ ì™„ë£Œ
   - `cloud_efficiency`ëŠ” API ì¡°íšŒ ê²°ê³¼ì—ë„ ë‚˜íƒ€ë‚˜ì§€ ì•ŠìŒ
   - ì´ëŠ” Alibabaì˜ ì •ì±…ìœ¼ë¡œ, ACKëŠ” ê³ ì„±ëŠ¥ ë””ìŠ¤í¬ë§Œ ì§€ì›

2. **ìƒˆë¡œìš´ API í•¨ìˆ˜ ì¶”ê°€ (ì´ìŠˆ #1492 í•´ê²°):** `GetAvailableSystemDiskTypesForCluster()`
   - ë¦¬ì „/ì¡´/ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…ë³„ë¡œ ì‚¬ìš© ê°€ëŠ¥í•œ System Disk íƒ€ì… ì¡°íšŒ
   - ë…¸ë“œ ê·¸ë£¹ ìƒì„± ì „ ì‚¬ì „ ê²€ì¦ ê°€ëŠ¥
   - ECS `DescribeAvailableResource` API ì§ì ‘ í˜¸ì¶œ

3. **RootDiskType ìë™ ê²€ì¦ ê¸°ëŠ¥ ì¶”ê°€ (ì´ìŠˆ #1492 ì˜ˆë°©)**
   - `AddNodeGroup()` í•¨ìˆ˜ì—ì„œ ìë™ìœ¼ë¡œ RootDiskType ê²€ì¦
   - ë¯¸ì§€ì› ë””ìŠ¤í¬ íƒ€ì… ì‚¬ìš© ì‹œ ëª…í™•í•œ ì—ëŸ¬ ë©”ì‹œì§€ì™€ í•¨ê»˜ í•´ë‹¹ ì¡´ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ íƒ€ì… ì•ˆë‚´
   - ì˜ˆì‹œ ì—ëŸ¬ ë©”ì‹œì§€:
     ```
     RootDiskType 'cloud_efficiency' is not supported for ACK node pools in zone 'ap-northeast-1b' with instance type 'ecs.g7.xlarge'.
     Note: Only the following disk types are available in this zone: [cloud_auto cloud_essd]
     ```

4. **ì½”ë“œ ìµœì í™”:**
   - KubernetesConfig ìë™ ìƒì† ê²€ì¦ (ì„ íƒì‚¬í•­ìœ¼ë¡œ ì£¼ì„ ì²˜ë¦¬)
   - Auto-scaling validation ë¡œì§ ëª…í™•í™”
   - KeyPair ë° Image SystemId ì‚¬ìš© í™•ì¸ ë° ìˆ˜ì •
   - ë””ë²„ê¹… ë° ì—ëŸ¬ ë©”ì‹œì§€ ê°œì„ 

5. **í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í™•ì¥:**
   - ClusterHandler ì¸í„°í˜ì´ìŠ¤ ë©”ì„œë“œ 100% í…ŒìŠ¤íŠ¸ êµ¬í˜„
   - ì‹¤ì œ API í˜¸ì¶œì„ í†µí•œ ê²€ì¦ ì™„ë£Œ
   - RootDiskType ê²€ì¦ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ì™„ë£Œ
   - KeyPair ìƒì„±ë¶€í„° ë…¸ë“œ ê·¸ë£¹ ì¶”ê°€ê¹Œì§€ ì „ì²´ í”Œë¡œìš° ê²€ì¦ ì™„ë£Œ

---

**ì´ìŠˆ #1492 ìƒíƒœ:** âœ… **í•´ê²° ì™„ë£Œ (Resolved)**

**ê´€ë ¨ ì»¤ë°‹:**
- ClusterHandler í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í™•ì¥
- RootDiskType ê²€ì¦ API ì¶”ê°€
- AddNodeGroup ìë™ ê²€ì¦ ë¡œì§ ì¶”ê°€
- KeyPair/Image SystemId ì²˜ë¦¬ ìˆ˜ì •
- ë¬¸ì„œí™” ì™„ë£Œ

